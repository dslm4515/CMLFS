# Final System: LSB Tools
# Build under chroot

# NOTE: Required by elftoolchain to configure

python3 setup.py build

python3 setup.py install --optimize=1

# Create the status of the new system with respect to the Linux Standards
# Base (LSB)
cat > /etc/lsb-release << "EOF"
DISTRIB_ID="CMLFS"
DISTRIB_RELEASE="3.0.0_amd64"
DISTRIB_CODENAME="15-elftool"
DISTRIB_DESCRIPTION="Clang-built Musl Linux From Scratch, AMD64"
EOF

# The same information but used by some graphical desktop environments:
cat > /etc/os-release << "EOF"
NAME="Clang-built Musl Linux From Scratch"
VERSION="3.0.0_amd64"
ID=clfs
PRETTY_NAME="Clang-built Musl Linux From Scratch 3.0.0_amd64"
VERSION_CODENAME="15-elftool"
EOF
